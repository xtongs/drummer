.bpm-slider-container{display:flex;align-items:center;width:100%;box-sizing:border-box;--thumb-size: 20px;--thumb-radius: 10px}.bpm-slider-track{position:relative;width:100%;height:8px;background-color:var(--color-bg-secondary);cursor:pointer;touch-action:none}.bpm-slider-fill{position:absolute;top:0;left:0;height:100%;max-width:100%;background:linear-gradient(to right,var(--color-primary),var(--color-primary));border-radius:16px;transition:width .1s ease}.bpm-slider-thumb{position:absolute;top:50%;transform:translateY(-50%);width:var(--thumb-size);height:var(--thumb-size);background-color:var(--color-primary);border:none;border-radius:50%;cursor:grab;box-shadow:var(--shadow-md);transition:left .1s ease,transform .1s ease}.bpm-slider-thumb:active{cursor:grabbing;transform:translateY(-50%) scale(1.2)}.bpm-slider-track:hover .bpm-slider-thumb{box-shadow:var(--shadow-lg)}.beat-dots{display:flex;align-items:center;gap:8px;flex-shrink:0}.beat-dot{width:12px;height:12px;min-width:12px;min-height:12px;border-radius:50%;background-color:var(--color-text-dim);transition:all .1s ease;flex-shrink:0}.beat-dot.active{background-color:var(--color-secondary);box-shadow:0 0 12px var(--color-secondary);transform:scale(1.2)}.beat-dot:first-child.active{background-color:var(--color-warning);box-shadow:0 0 12px var(--color-warning)}.play-button{width:48px;height:48px;min-width:48px;min-height:48px;padding:0;display:flex;align-items:center;justify-content:center;background:var(--color-primary);color:var(--color-text);border-radius:50%;box-shadow:none;flex-shrink:0}.play-button:active{transform:scale(.95)}.play-button svg{width:20px;height:20px}.play-button svg.play-icon{transform:translate(1px)}.play-button-count{font-size:18px;font-weight:700;line-height:1;color:var(--color-text)}@media (max-width: 768px){.play-button{width:44px;height:44px;min-width:44px;min-height:44px}.play-button svg{width:18px;height:18px}.play-button-count{font-size:16px}}.metronome-bar{position:sticky;top:0;z-index:100;display:flex;flex-direction:column;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border:none;border-radius:var(--border-radius-sm);box-shadow:none}.metronome-row{display:flex;align-items:center;width:100%}.metronome-row-top{position:relative;justify-content:space-between;gap:var(--spacing-sm);margin-bottom:var(--spacing-md)}.beat-indicator-group,.loop-count-group{display:flex;align-items:center;gap:var(--spacing-xs)}.metronome-row-bottom{width:100%}.bpm-control-group{position:absolute;left:50%;transform:translate(-50%);display:flex;align-items:center;gap:var(--spacing-sm);pointer-events:none}.bpm-control-group>*{pointer-events:auto}.bpm-display{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px}.bpm-control-button{width:var(--button-size);height:var(--button-size);min-width:var(--button-size);min-height:var(--button-size);padding:0;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-sm);font-weight:600;color:var(--color-text);background-color:transparent;border:none;border-radius:var(--border-radius-sm);cursor:pointer;flex-shrink:0}.bpm-control-button:disabled{opacity:.3;cursor:not-allowed}.bpm-value{font-size:2.5rem;font-weight:600;line-height:1;color:var(--color-primary);text-shadow:0 0 20px var(--accent-glow);font-family:-apple-system,BlinkMacSystemFont,SF Pro Display,Helvetica Neue,Arial,sans-serif;display:inline-block;vertical-align:middle}.bpm-rate-label{font-size:.75rem;font-weight:400;line-height:1;color:var(--color-text-secondary);opacity:.7;margin-top:2px}.bpm-unit{font-size:var(--font-size-sm);font-weight:500;color:var(--color-text-secondary);letter-spacing:.1em}@media (max-width: 768px){.metronome-row-top{gap:var(--spacing-xs)}}.drum-notation-container{width:max-content;min-width:100%;border:none;border-radius:var(--border-radius-sm);background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;flex-shrink:0;position:relative;box-sizing:border-box;margin-top:18px}.drum-notation-svg{display:block}.grid-cell{width:var(--grid-cell-size);height:var(--grid-cell-size);min-width:var(--grid-cell-size);min-height:var(--grid-cell-size);padding:var(--spacing-xs);background-color:var(--color-bg);cursor:pointer;position:relative;border-radius:0!important;-webkit-appearance:none;-moz-appearance:none;appearance:none;box-sizing:border-box;touch-action:manipulation;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent}.grid-cell:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:var(--grid-cell-real-size);height:var(--grid-cell-real-size);background-color:var(--grid-cell-bg);border-radius:var(--border-radius-sm);z-index:0}.grid-cell.alt-beat:after{background-color:var(--grid-cell-bg-alt)}.grid-cell:last-child{border-right:none}.grid-cell.active{box-shadow:none}.grid-cell.active:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:var(--grid-cell-real-size);height:var(--grid-cell-real-size);background:var(--color-secondary);border-radius:var(--border-radius-sm);z-index:1}.grid-cell.current-beat{background-color:var(--color-active-bg);box-shadow:none}.grid-cell.current-beat:after{display:none}.grid-cell.active.current-beat{background-color:var(--color-active-bg);box-shadow:none}.grid-cell.active.current-beat:before{background:var(--color-secondary)}.grid-cell.ghost:before{opacity:.4}.grid-cell.ghost.current-beat:before{opacity:.4}.grid-cell.grace:before{background:linear-gradient(to right,rgba(80,250,123,.4) 0%,rgba(80,250,123,1) 100%)}.grid-cell.grace.current-beat:before{background:linear-gradient(to right,rgba(80,250,123,.4) 0%,rgba(80,250,123,1) 100%)}.grid-container{width:100%;border:none;border-radius:var(--border-radius-sm);background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none}.grid-wrapper{display:flex;min-width:fit-content}.grid-content{display:flex;flex-direction:column}.grid-beat-labels{display:flex;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border-bottom:1px solid var(--grid-border);height:24px;position:relative;flex-shrink:0}.grid-beat-label-group{position:relative;border:none}.grid-beat-label{position:absolute;height:100%;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-xs);font-weight:600;color:var(--color-text);border:none;background-color:transparent}.grid-rows{display:flex;flex-direction:column}.grid-row{display:flex;position:relative;height:var(--grid-cell-size);min-height:var(--grid-cell-size);max-height:var(--grid-cell-size);box-sizing:border-box}.grid-row:last-child{border-bottom:none}.grid-row:before{content:"";position:absolute;left:0;right:0;height:1px;background-color:transparent}.bar-controls{display:flex;align-items:center;gap:var(--spacing-xs);padding:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border:none;border-radius:var(--border-radius-sm)}.bar-count{display:flex;align-items:center;gap:var(--spacing-xs);font-size:var(--font-size-sm);font-weight:500;color:var(--color-text)}.bar-control-button{width:var(--button-size);height:var(--button-size);min-width:var(--button-size);min-height:var(--button-size);padding:0;display:flex;align-items:center;justify-content:center;background:var(--color-primary);color:#fff;font-size:var(--font-size-sm);font-weight:600;border-radius:var(--border-radius-sm);border:none;box-shadow:none;cursor:pointer}.bar-control-button:disabled{opacity:.5;cursor:not-allowed}.loop-range-selector{display:flex;align-items:center;gap:var(--spacing-xs);padding:0;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border:none;border-radius:var(--border-radius-sm);flex-shrink:0}.loop-range-text{font-size:var(--font-size-sm);color:var(--color-text)}.loop-range-controls,.loop-range-item{display:flex;align-items:center;gap:var(--spacing-xs)}.loop-range-button{width:var(--button-size);height:var(--button-size);min-width:var(--button-size);min-height:var(--button-size);padding:0;display:flex;align-items:center;justify-content:center;background:var(--color-primary);color:#fff;font-size:var(--font-size-sm);font-weight:600;border:none;border-radius:var(--border-radius-sm);cursor:pointer;box-shadow:none}.loop-range-button:disabled{opacity:.3;cursor:not-allowed}.loop-range-value{font-size:var(--font-size-sm);color:var(--color-text);text-align:center}.loop-range-separator{color:var(--color-text-secondary);font-weight:600;margin:0 var(--spacing-xs)}.loop-pattern-select{-moz-appearance:none;appearance:none;-webkit-appearance:none;background:transparent;border:none;color:var(--color-primary);font-size:var(--font-size-sm);font-family:inherit;padding:0;cursor:pointer;text-align:center;min-width:10px}.loop-pattern-select:focus{outline:none}.loop-pattern-select option{background:var(--color-bg);color:var(--color-text)}.pattern-tabs{display:flex;align-items:center;gap:var(--spacing-xs);flex-shrink:0}.pattern-tab{width:var(--button-size);height:var(--button-size);min-width:var(--button-size);min-height:var(--button-size);padding:0;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-sm);color:var(--color-text);background:transparent;border:1px solid var(--color-border);border-radius:var(--border-radius-sm);cursor:pointer}.pattern-tab:hover,.pattern-tab.active{background:var(--color-primary);border-color:var(--color-primary);color:#fff}.pattern-tab.draft-tab{color:var(--color-text)}.pattern-tab.draft-tab.active{color:#fff}.pattern-editor{display:flex;flex-direction:column;background:transparent;-webkit-backdrop-filter:none;backdrop-filter:none;border:none;border-radius:var(--border-radius-sm);flex:1;min-height:0;overflow:hidden}.pattern-editor-controls{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:var(--spacing-md);flex-shrink:0;padding:0;flex-wrap:wrap;width:100%;margin-bottom:var(--spacing-sm)}.pattern-editor-scrollable{display:flex;flex-direction:column;overflow-x:auto;overflow-y:hidden}.pattern-editor-actions{display:flex;align-items:center;gap:var(--spacing-xs);flex-shrink:0;padding:0;width:100%}.pattern-editor-actions-left{display:flex;align-items:center;gap:var(--spacing-xs);flex:1}.pattern-editor-actions-right{display:flex;align-items:center;gap:var(--spacing-xs);flex-shrink:0}.action-button{padding:0;font-size:var(--font-size-sm);font-weight:600;border-radius:var(--border-radius-sm);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;width:var(--button-size);height:var(--button-size);min-width:var(--button-size);min-height:var(--button-size)}.save-button{background:var(--color-primary);color:#fff;box-shadow:none}.save-current-button{background:var(--color-secondary);color:#fff;border:1px solid var(--color-secondary);box-shadow:none}.load-button{background:transparent;color:var(--color-text);border:none}.delete-button{background-color:var(--color-danger);color:#fff;border:none}.clear-button{background-color:var(--color-warning-hover);color:var(--color-text);border:none}.bottom-play-button-container{position:fixed;bottom:0;left:0;right:0;display:flex;justify-content:center;align-items:center;gap:var(--spacing-md);padding-bottom:env(safe-area-inset-bottom);padding-bottom:max(env(safe-area-inset-bottom),var(--spacing-md));padding-left:var(--spacing-md);padding-right:var(--spacing-md);z-index:100;pointer-events:none;margin:0 auto}.bottom-play-button{width:64px;height:64px;min-width:64px;min-height:64px;padding:0;display:flex;align-items:center;justify-content:center;background:var(--color-primary);color:var(--color-text);border-radius:50%;box-shadow:0 4px 12px #0000004d;pointer-events:auto;border:none;cursor:pointer}.bottom-play-button:active{transform:scale(.95)}.bottom-play-button svg{width:28px;height:28px}.bottom-play-button svg.play-icon{transform:translate(1px)}@media (max-width: 768px){.bottom-play-button{width:56px;height:56px;min-width:56px;min-height:56px}.bottom-play-button svg{width:24px;height:24px}}:root{--bg-color: #282a36;--card-bg: #44475a;--color-bg: #282a36;--color-bg-secondary: #21222c;--color-text: #f8f8f2;--color-text-secondary: #6272a4;--color-text-dim: #6272a4;--color-border: rgba(139, 233, 253, .3);--color-primary: #bd93f9;--color-primary-hover: #ff79c6;--color-secondary: #50fa7b;--color-active: #50fa7b;--color-active-bg: rgba(80, 250, 123, .2);--accent-glow: rgba(189, 147, 249, .3);--color-danger: #ff5555;--color-danger-hover: #ff6e6e;--color-warning: #f2f28c;--color-warning-hover: #ffb86c;--glass-bg: rgba(68, 71, 90, .5);--glass-bg-hover: rgba(68, 71, 90, .7);--glass-border: rgba(139, 233, 253, .3);--overlay-bg: rgba(40, 42, 54, .9);--grid-border: rgba(139, 233, 253, .2);--grid-cell-bg: #1a3a2a;--grid-cell-bg-alt: #1a3a2a94;--color-text-tertiary: #6272a4;--color-beat-line: #8be9fd;--theme-color: #282a36;--spacing-xs: 4px;--spacing-sm: 8px;--spacing-md: 12px;--spacing-lg: 24px;--spacing-xl: 32px;--font-family: "Consolas", "Monaco", "Courier New", "Menlo", "Fira Code", "Source Code Pro", monospace;--font-size-xs: 10px;--font-size-sm: 12px;--font-size-md: 16px;--font-size-lg: 18px;--font-size-xl: 24px;--border-radius-sm: 2px;--border-radius-md: 8px;--border-radius-lg: 12px;--border-radius-xl: 24px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 2px 4px rgba(0, 0, 0, .1);--shadow-lg: 0 4px 8px rgba(0, 0, 0, .15);--metronome-bar-height: 70px;--app-max-width: 700px;--grid-cell-size: min( 5.852vw, calc((var(--app-max-width) - var(--spacing-md) * 2) * 23 / 369) );--grid-cell-real-size: min( 5.09vw, calc((var(--app-max-width) - var(--spacing-md) * 2) * 20 / 369) );--button-size: 24px;--beat-divider-color: #bd93f9;--subdivision-divider-color: rgba(139, 233, 253, .2)}*{box-sizing:border-box;margin:0;padding:0;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}body{font-family:var(--font-family);font-size:var(--font-size-md);color:var(--color-text);background-color:var(--bg-color);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;overflow:hidden;width:100vw;height:100vh;-webkit-tap-highlight-color:transparent;margin:0;padding:0}#root{width:100%;height:100vh;margin:0;padding:0;display:flex;flex-direction:column;overflow:hidden}.app{display:flex;flex-direction:column;width:100%;height:100vh;min-width:375px;max-width:var(--app-max-width);margin:0 auto;overflow:hidden;box-sizing:border-box;padding:var(--spacing-md);padding-bottom:calc(var(--spacing-md) + 64px + max(env(safe-area-inset-bottom),var(--spacing-md)));gap:var(--spacing-md)}.app.loading{justify-content:center;align-items:center;padding-bottom:var(--spacing-md)}.loading-container{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-lg)}.loading-spinner{width:48px;height:48px;border:4px solid var(--color-border);border-top-color:var(--color-primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-text{font-size:var(--font-size-md);color:var(--color-text-secondary);margin:0}.app-header{display:flex;flex-direction:column;align-items:center;gap:var(--spacing-sm);flex-shrink:0}.app-title{font-size:2rem;letter-spacing:.1rem;background:linear-gradient(to right,var(--color-primary),var(--color-secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin:0}.app-main{flex:1;min-height:0;overflow:hidden;display:flex;flex-direction:column}@media (max-width: 768px){body{font-size:var(--font-size-sm)}}button{font-family:inherit;font-size:inherit;border:none;background:none;cursor:pointer;padding:var(--spacing-sm) var(--spacing-md);border-radius:var(--border-radius-sm);touch-action:manipulation;min-height:44px;min-width:44px;display:flex;align-items:center;justify-content:center}button:active{transform:scale(.95)}button:disabled{opacity:.5;cursor:not-allowed}.glass{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid var(--glass-border);border-radius:var(--border-radius-sm)}.neon-border{border:1px solid var(--color-primary);box-shadow:0 0 15px var(--accent-glow)}input{font-family:inherit;font-size:inherit;border:1px solid var(--color-border);border-radius:var(--border-radius-sm);padding:var(--spacing-sm) var(--spacing-md);background-color:var(--card-bg);color:var(--color-text)}input:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px var(--accent-glow)}
