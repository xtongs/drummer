## 1. 实现任务

- [ ] 1.1 定义背景音乐配置状态（文件引用、偏移量）并接入完整练习模式
- [ ] 1.2 增加 MP3 上传入口与加载状态提示
- [ ] 1.3 将 MP3 存储到 IndexedDB，并与 Pattern ID 关联
- [ ] 1.4 增加偏移量与音量设置 UI（图标 + 数字 + 按钮），支持正负值与 1ms 步进
- [ ] 1.5 增加已关联背景音乐的删除入口
- [ ] 1.6 背景音乐控件仅在完整练习模式显示，放在 grid labels 下方，两端对齐，沿用按钮样式与 SVG 图标
- [ ] 1.7 播放控制接入 BGM 启停逻辑，播放启动时应用偏移量
- [ ] 1.8 使用 Tone.js 实现变速播放且保持音调不变
- [ ] 1.9 错误与边界处理（无文件、加载失败、偏移量越界）
- [ ] 1.10 编写测试用例（播放对齐、偏移量应用、音量应用、暂停/停止同步、删除关联）
- [ ] 1.11 更新规范文档（specs/）

## 2. 验证任务

- [ ] 2.1 通过所有测试
- [ ] 2.2 覆盖率核心逻辑 >= 80%
- [ ] 2.3 与规范对齐检查
